# WOW Script Creation Crew: Agent Requirement Review

このドキュメントでは、`app/crew/agents.py` の `create_wow_agents` が必須としている7つのエージェントについて、役割とクリティカル度を整理します。それぞれを削除・統合した場合に発生し得るリスクや代替策も検討し、必須判定と推奨アクションをまとめています。

## 背景

- `create_wow_agents` は7エージェントをハードコードで必須として生成し、失敗時は `RuntimeError` を送出します。これにより、1つでも生成できないとCrew全体が停止します。
- `app/config_prompts/prompts/agents.yaml` では各エージェントのロール、ゴール、専門性が定義され、分析→執筆→品質の3フェーズで連携する前提です。

## 評価フレームワーク

各エージェントを以下の観点で評価しました。

1. **主担当フェーズ** – どの工程を担うか。
2. **重複可能性** – 他エージェントと役割がどれだけ重なるか。
3. **削除リスク** – 省略した場合の出力品質やプロセスへの影響。
4. **代替策** – 必須化を緩和するための設定やワークフロー調整案。
5. **判定** – `Critical`(必須), `Strongly Recommended`, `Optional` の3段階。

## 各エージェントの検討

### 1. deep_news_analyzer
- **主担当フェーズ**: 分析フェーズ（一次情報の深掘り）。
- **重複可能性**: 低い。ニュースの深層分析は他エージェントが前提として利用。
- **削除リスク**: 驚き要素やデータ裏付けが欠落し、台本の核となるWOW体験が失われる。
- **代替策**: 設定ファイル側で外部ニュースAPIや既存調査結果を渡す運用でカバー可能だが、依存データの品質保証が必要。
- **判定**: **Critical** – WOW体験の起点であり、現状必須のまま維持するのが妥当。

### 2. curiosity_gap_researcher
- **主担当フェーズ**: 分析フェーズ（視聴者心理フックの設計）。
- **重複可能性**: 中程度。script_writer でもフック文を追記できるが心理効果の知見は専任が有利。
- **削除リスク**: 導入の引き込み力が落ち、視聴維持率に直結するKPIが低下する懸念。
- **代替策**: script_writer にテンプレ化されたフック生成プロンプトを追加し、単一エージェントでカバーする構成にする。テンプレが硬直化しやすい点は要注意。
- **判定**: **Strongly Recommended** – パイプラインを簡素化するなら script_writer と統合余地はあるが、独立させた方が柔軟で品質も安定。

### 3. emotional_story_architect
- **主担当フェーズ**: 分析フェーズ（感情設計とストーリーアーク）。
- **重複可能性**: 中程度。script_writer と役割が部分的に重なる。
- **削除リスク**: データ重視の乾いた脚本になるリスクが高い。視聴者感情を喚起する導線が弱まる。
- **代替策**: script_writer のプロンプトにストーリーアークテンプレを組み込み、ライターが感情設計まで兼任。
- **判定**: **Strongly Recommended** – ストーリー品質のばらつきを抑えるためにも、独立エージェントでの事前設計を推奨。

### 4. script_writer
- **主担当フェーズ**: 執筆フェーズ（初稿作成）。
- **重複可能性**: 低い。全フェーズの出力を統合する中核工程。
- **削除リスク**: 台本が生成されずワークフローが成立しない。
- **代替策**: なし。ワークフローの中心であり他エージェントでは代替不可。
- **判定**: **Critical** – 必須。

### 5. engagement_optimizer
- **主担当フェーズ**: 執筆フェーズ（保持率最適化）。
- **重複可能性**: 中〜高。script_writer と quality_guardian で一定の最適化は可能。
- **削除リスク**: パターン・インタラプトや視聴者参加の仕掛けが減る。保持率改善の専任視点が弱まる。
- **代替策**: script_writer のチェックリストを拡張し、quality_guardian に保持率スコアリングを強化させる。自動評価ツールとの連携で補完も可能。
- **判定**: **Recommended** – KPI重視なら残す価値は高いが、パイプライン簡素化では統合候補。

### 6. quality_guardian
- **主担当フェーズ**: 品質フェーズ（多次元評価とフィードバック）。
- **重複可能性**: 中程度。品質保証は他エージェントでも部分的に対応できるが、網羅性に欠ける。
- **削除リスク**: WOWスコアの定量評価と改善指示がなくなり、成果物の品質が不安定化。
- **代替策**: 人間レビューや自動テスト（Lint, GPT-ベース評価）に置き換える。ただし自動化の投資が別途必要。
- **判定**: **Critical** – デプロイ前の最終ゲートとして必須維持を推奨。

### 7. japanese_purity_polisher
- **主担当フェーズ**: 品質フェーズ（言語校正）。
- **重複可能性**: 中〜高。script_writer でも日本語品質を高められるが、英語混入の最終チェックとして機能。
- **削除リスク**: 日本語純度の低下や不自然な表現が残る可能性。ブランドトーンに影響。
- **代替策**: quality_guardian に日本語チェック観点を追加し、外部日本語校正APIや人間校閲と組み合わせる。
- **判定**: **Recommended** – 品質要件が厳しくない場面では統合可能だが、ブランド維持を考えると残したい。

## 結論と提案

- **ハード必須**: `deep_news_analyzer`, `script_writer`, `quality_guardian` は現行アーキテクチャでの基盤工程を担うためハード依存関係を維持する。
- **柔軟化候補**: `curiosity_gap_researcher`, `emotional_story_architect`, `engagement_optimizer`, `japanese_purity_polisher` は、設定ファイルにフラグを設ける・エージェント統合テンプレートを用意する等で「推奨」扱いへ移行できる余地がある。
- **次のステップ**: `required_agents` を設定駆動に変更し、`config.yaml` で各エージェントの有効/無効を選択可能にする設計を検討する。これによりワークフローをシナリオ別に最適化でき、CrewAI起動時の柔軟性が高まる。

